(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{3466:(e,t,s)=>{Promise.resolve().then(s.bind(s,6265))},6265:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),l=s(3464);let n=["Pending","Preparing","Out for Delivery","Delivered"];function d(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:8080/orderoverallviewnotdelivered",{method:"GET",credentials:"include"}),s=await e.json();t(s)}catch(e){console.error("Error fetching order data:",e)}};e();let s=setInterval(e,1e4);return()=>clearInterval(s)},[]);let s=async(e,s)=>{try{await l.A.post("http://localhost:8080/orderstatusupdate",{orderID:e,newStatus:s},{headers:{"Content-Type":"application/json"},withCredentials:!0})}catch(e){console.error("Error updating status:",e)}t(t=>t.map(t=>t.id===e?{...t,status:s}:t))},d=e=>{switch(e){case"Delivered":return"bg-green-500";case"Out for Delivery":return"bg-yellow-400";case"Pending":return"bg-gray-400";case"Preparing":return"bg-purple-400";default:return"bg-blue-400"}};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Delivery Orders"}),0===e.length?(0,r.jsx)("p",{className:"text-lg text-gray-500",children:"No orders assigned yet."}):e.map(e=>(0,r.jsxs)("div",{className:"mb-6 p-6 bg-white rounded-md shadow-md border",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-2",children:["Order #",e.id]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Customer ID:"})," ",e.customerID]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Address:"})," ",e.deliveryAddress]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-white text-sm px-3 py-1 rounded-full ".concat(d(e.status)),children:e.status}),(0,r.jsx)("select",{className:"border rounded-md px-3 py-1 text-sm",value:e.status,onChange:t=>s(e.id,t.target.value),children:n.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]},e.id))]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(3466)),_N_E=e.O()}]);