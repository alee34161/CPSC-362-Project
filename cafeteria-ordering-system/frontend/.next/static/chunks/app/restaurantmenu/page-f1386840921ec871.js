(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{388:(e,a,r)=>{"use strict";var t=r(7985),o=r(1218),s=r(4431);let n=JSON.parse('{"welcome":"Welcome to the Cafeteria Ordering System","loginPrompt":"Click below to log in","goToLogin":"Go to Login","editInfo.title":"Edit Info","editInfo.description":"Update your details and profile picture","editInfo.save":"Save","editInfo.cancel":"Cancel","editInfo.name":"Name","editInfo.username":"Email","editInfo.password":"Password","editInfo.phone":"Phone number","editInfo.confirm":"Confirm","editInfo.alertSuccess":"Update successful!","editInfo.alertFail":"Username already in use or server error","editInfo.errorGeneric":"Something went wrong. Please try again.","editInfo.profilePreview":"Profile Preview","login":{"title":"Login","email":"Email","password":"Password","forgotPassword":"Forgot Password?","noAccount":"Don\'t have an account?","signup":"Sign Up","backHome":"← Back to Home","success":"Login successful!","invalid":"Invalid login credentials","errorGeneric":"Something went wrong. Please try again."},"cafe":{"title":"Cafe CSUF","searchPlaceholder":"Search for something...","loading":"Loading...","noResults":"No results found","cart":"Cart","account":"Account","welcome":"Welcome!","cafeteria":"Our Cafeteria","restaurants":"Local Restaurants","featuredMeals":"Featured Meals"},"user":{"logout":"Logout","emailLabel":"Email:","phoneLabel":"Phone:","locationLabel":"Location:","editProfile":"Edit Profile","mealSubscription":"Meal Subscription","home":"Home","subscriptionPlan":"Subscription Plan"},"admin":{"title":"Admin Menu","manageUsers":"Manage Users","editMenu":"Edit Cafeteria Menu","loading":"Loading...","updateUserInfo":"Update User Info","promoteDemoteUser":"Promote/Demote User","deleteUser":"Delete User","searchMenuItem":"Search Menu Item","addMenuItem":"Add Menu Item","updateMenuItem":"Update Menu Item","deleteMenuItem":"Delete Menu Item","input":{"usernameEmail":"Username/Email","newName":"New Name","newPassword":"New Password","username":"Username","searchName":"Search by name...","newItemName":"New Item Name","price":"Price","quantity":"Quantity","selectCategory":"Select Category","itemName":"Item Name","newPrice":"New Price","newQuantity":"New Quantity"},"button":{"updateInfo":"Update Info","updateRole":"Update Role","deleteUser":"Delete User","addItem":"Add Item","updateItem":"Update Item","deleteItem":"Delete Item"},"category":{"breakfast":"Breakfast","lunch":"Lunch","dinner":"Dinner","dessert":"Dessert","drink":"Drink"}},"cafeteria":{"logo":"Cafe CSUF","history":"History","loyalty":"Loyalty Points","searchPlaceholder":"Search for something...","loading":"Loading...","noResults":"No results found","cart":"Cart","account":"Account","menuTitle":"Cafeteria Menu","add":"Add","remove":"Remove","addedToCart":"Added one {{item}} to cart.","removedFromCart":"All {{item}} items removed from cart."},"home":{"logo":"Cafe CSUF","history":"History","loyalty":"Loyalty Points","searchPlaceholder":"Search for something...","loading":"Loading...","noResults":"No results found","cart":"Cart","account":"Account","welcome":"Welcome!","ourCafeteria":"Our Cafeteria","localRestaurants":"Local Restaurants","featuredMeals":"Featured Meals"},"signup":{"title":"Sign Up","email":"Email","password":"Password","confirmPassword":"Confirm Password","createAccount":"Create Account","backToHome":"← Back to Home","passwordMismatch":"Passwords do not match!","successMessage":"Account created for {{email}}","registrationFailed":"Registration failed!"},"forgotPassword":{"title":"Forgot Password","emailPlaceholder":"Enter your email","resetButton":"Reset Password","backToHome":"← Back to Home","resetConfirmation":"Password reset link sent to {{email}}"},"restaurantMenu":{"logo":"Cafe CSUF","history":"History","loyalty":"Loyalty Points","searchPlaceholder":"Search for something...","loading":"Loading...","noResults":"No results found","cart":"Cart","account":"Account","title":"Restaurant Menu","add":"Add","remove":"Remove","addedToCart":"Added one {{name}} to cart.","removedFromCart":"All {{name}} items removed from cart."},"pastOrders":{"title":"Past Orders","noOrders":"You have no past orders.","orderId":"Order ID:","total":"Total:","viewDetails":"View Details","home":"Home"},"loyalty":{"title":"Loyalty Rewards","back":"Back to Menu","loading":"Loading loyalty points...","rewardBanner":"\uD83C\uDF81 Loyalty Reward: Earn 50 points to get $5 off your next order!","points":"You have {{points}} points!","keepOrdering":"Keep ordering to earn more rewards.","eligible":"You’re eligible for $5 off!","redeemButton":"Redeem 50 Points","earnMore":"Earn {{needed}} more points to unlock $5 off!","historyTitle":"Points History","noHistory":"No point history available.","order":"Order #{{id}}","statusAndTotal":"Status: {{status}} • ${{total}} spent","pointsEarned":"+{{pts}} pts","successRedeem":"\uD83C\uDF89 $5 off reward redeemed!","alreadyRedeemed":"Discount already applied!"},"cart":{"backToMenu":"Back to Menu","title":"Your Cart","empty":"Your cart is empty.","qty":"Qty:","delete":"Delete","specialRequest":"Special Request","placeholder":"ex: No onions, no pickles...","subtotal":"Subtotal","tax":"Tax (10%)","subscriptionDiscount":"Subscription Discount (15%)","pointDiscount":"Point Discount","total":"Total","checkout":"Proceed to Checkout","removeError":"Error removing specific item from cart.","customizationError":"Error updating customization in cart.","fetchError":"Error fetching cart items:","updateError":"Error updating cart:"},"checkout":{"title":"Checkout","fullName":"Full Name","streetAddress":"Street Address","city":"City","state":"State","zipCode":"Zip Code","zipCodeError":"Zip Code must be 5 digits","cardNumber":"Card Number","cardNumberError":"Card number must be 16 digits","expiryDate":"Expiry Date (MM/YY)","expiryDateError":"Expiry date must be in MM/YY format","cvv":"CVV","cvvError":"CVV must be 3 digits","delivery":"Delivery Floor and Room","placeOrder":"Place Order","backToCart":"← Back to Cart","inventoryError":"Not enough items in cafeteria inventory to fulfill order. Please lower quantity.","genericError":"An error occurred. Please try again.","unexpectedResponse":"Unexpected response"},"tracking":{"title":"Order Tracking","backToMenu":"Back to Menu","orderItems":"Order Items","loadingItems":"Loading order items...","qty":"Qty:","totalLabel":"Total (incl. tax and promotions)","loading":"Loading...","statusTitle":"Current Status","statusUpdate":"Order status updated: {{status}}","statusError":"Failed to update order status","loadError":"Failed to load order items"}}'),i=JSON.parse('{"welcome":"Bienvenido al sistema de pedidos de la cafeter\xeda","loginPrompt":"Haz clic abajo para iniciar sesi\xf3n","goToLogin":"Ir a Iniciar Sesi\xf3n","editInfo.title":"Editar informaci\xf3n","editInfo.description":"Actualiza tus datos y foto de perfil","editInfo.save":"Guardar","editInfo.cancel":"Cancelar","editInfo.name":"Nombre","editInfo.username":"Correo electr\xf3nico","editInfo.password":"Contrase\xf1a","editInfo.phone":"N\xfamero de tel\xe9fono","editInfo.confirm":"Confirmar","editInfo.alertSuccess":"\xa1Actualizaci\xf3n exitosa!","editInfo.alertFail":"Nombre de usuario ya en uso o error del servidor","editInfo.errorGeneric":"Algo sali\xf3 mal. Por favor, intenta de nuevo.","editInfo.profilePreview":"Vista previa del perfil","login":{"title":"Iniciar Sesi\xf3n","email":"Correo Electr\xf3nico","password":"Contrase\xf1a","forgotPassword":"\xbfOlvidaste tu contrase\xf1a?","noAccount":"\xbfNo tienes una cuenta?","signup":"Reg\xedstrate","backHome":"← Volver al Inicio","success":"\xa1Inicio de sesi\xf3n exitoso!","invalid":"Credenciales inv\xe1lidas","errorGeneric":"Algo sali\xf3 mal. Por favor, int\xe9ntalo de nuevo."},"cafe":{"title":"Cafeter\xeda CSUF","searchPlaceholder":"Busca algo...","loading":"Cargando...","noResults":"No se encontraron resultados","cart":"Carrito","account":"Cuenta","welcome":"\xa1Bienvenido!","cafeteria":"Nuestra Cafeter\xeda","restaurants":"Restaurantes Locales","featuredMeals":"Comidas Destacadas"},"user":{"logout":"Cerrar sesi\xf3n","emailLabel":"Correo electr\xf3nico:","phoneLabel":"Tel\xe9fono:","locationLabel":"Ubicaci\xf3n:","editProfile":"Editar perfil","mealSubscription":"Suscripci\xf3n de comida","home":"Inicio","subscriptionPlan":"Plan de suscripci\xf3n"},"admin":{"title":"Men\xfa de Administraci\xf3n","manageUsers":"Gestionar Usuarios","editMenu":"Editar Men\xfa de la Cafeter\xeda","loading":"Cargando...","updateUserInfo":"Actualizar Informaci\xf3n del Usuario","promoteDemoteUser":"Promover / Degradar Usuario","deleteUser":"Eliminar Usuario","searchMenuItem":"Buscar Elemento del Men\xfa","addMenuItem":"Agregar Elemento al Men\xfa","updateMenuItem":"Actualizar Elemento del Men\xfa","deleteMenuItem":"Eliminar Elemento del Men\xfa","input":{"usernameEmail":"Usuario/Correo Electr\xf3nico","newName":"Nuevo Nombre","newPassword":"Nueva Contrase\xf1a","username":"Nombre de Usuario","searchName":"Buscar por nombre...","newItemName":"Nombre del Nuevo Elemento","price":"Precio","quantity":"Cantidad","selectCategory":"Seleccionar Categor\xeda","itemName":"Nombre del Elemento","newPrice":"Nuevo Precio","newQuantity":"Nueva Cantidad"},"button":{"updateInfo":"Actualizar Informaci\xf3n","updateRole":"Actualizar Rol","deleteUser":"Eliminar Usuario","addItem":"Agregar Elemento","updateItem":"Actualizar Elemento","deleteItem":"Eliminar Elemento"},"category":{"breakfast":"Desayuno","lunch":"Almuerzo","dinner":"Cena","dessert":"Postre","drink":"Bebida"}},"cafeteria":{"logo":"Caf\xe9 CSUF","history":"Historial","loyalty":"Puntos de Fidelidad","searchPlaceholder":"Buscar algo...","loading":"Cargando...","noResults":"No se encontraron resultados","cart":"Carrito","account":"Cuenta","menuTitle":"Men\xfa de la Cafeter\xeda","add":"Agregar","remove":"Eliminar","addedToCart":"Se agreg\xf3 un {{item}} al carrito.","removedFromCart":"Todos los art\xedculos de {{item}} fueron eliminados del carrito."},"home":{"logo":"Caf\xe9 CSUF","history":"Historial","loyalty":"Puntos de Fidelidad","searchPlaceholder":"Buscar algo...","loading":"Cargando...","noResults":"No se encontraron resultados","cart":"Carrito","account":"Cuenta","welcome":"\xa1Bienvenido!","ourCafeteria":"Nuestra Cafeter\xeda","localRestaurants":"Restaurantes Locales","featuredMeals":"Comidas Destacadas"},"signup":{"title":"Registrarse","email":"Correo electr\xf3nico","password":"Contrase\xf1a","confirmPassword":"Confirmar contrase\xf1a","createAccount":"Crear cuenta","backToHome":"← Volver al inicio","passwordMismatch":"\xa1Las contrase\xf1as no coinciden!","successMessage":"Cuenta creada para {{email}}","registrationFailed":"\xa1Error al registrarse!"},"forgotPassword":{"title":"Olvid\xe9 mi contrase\xf1a","emailPlaceholder":"Introduce tu correo electr\xf3nico","resetButton":"Restablecer contrase\xf1a","backToHome":"← Volver al inicio","resetConfirmation":"Enlace de restablecimiento de contrase\xf1a enviado a {{email}}"},"restaurantMenu":{"logo":"Cafeter\xeda CSUF","history":"Historial","loyalty":"Puntos de fidelidad","searchPlaceholder":"Busca algo...","loading":"Cargando...","noResults":"No se encontraron resultados","cart":"Carrito","account":"Cuenta","title":"Men\xfa del restaurante","add":"Agregar","remove":"Eliminar","addedToCart":"Se agreg\xf3 un {{name}} al carrito.","removedFromCart":"Todos los art\xedculos de {{name}} fueron eliminados del carrito."},"pastOrders":{"title":"Pedidos Anteriores","noOrders":"No tienes pedidos anteriores.","orderId":"ID del pedido:","total":"Total:","viewDetails":"Ver detalles","home":"Inicio"},"loyalty":{"title":"Recompensas de Lealtad","back":"Volver al Men\xfa","loading":"Cargando puntos de lealtad...","rewardBanner":"\uD83C\uDF81 Recompensa de Lealtad: \xa1Gana 50 puntos y obt\xe9n $5 de descuento en tu pr\xf3ximo pedido!","points":"Tienes {{points}} puntos.","keepOrdering":"Sigue ordenando para ganar m\xe1s recompensas.","eligible":"\xa1Eres elegible para $5 de descuento!","redeemButton":"Canjear 50 puntos","earnMore":"Gana {{needed}} puntos m\xe1s para desbloquear $5 de descuento.","historyTitle":"Historial de Puntos","noHistory":"No hay historial de puntos disponible.","order":"Pedido #{{id}}","statusAndTotal":"Estado: {{status}} • ${{total}} gastados","pointsEarned":"+{{pts}} pts","successRedeem":"\uD83C\uDF89 \xa1Recompensa de $5 canjeada!","alreadyRedeemed":"\xa1Descuento ya aplicado!"},"cart":{"backToMenu":"Volver al men\xfa","title":"Tu carrito","empty":"Tu carrito est\xe1 vac\xedo.","qty":"Cantidad:","delete":"Eliminar","specialRequest":"Solicitud especial","placeholder":"ej: Sin cebolla, sin pepinillos...","subtotal":"Subtotal","tax":"Impuesto (10%)","subscriptionDiscount":"Descuento por suscripci\xf3n (15%)","pointDiscount":"Descuento de puntos","total":"Total","checkout":"Proceder al pago","removeError":"Error al eliminar el art\xedculo del carrito.","customizationError":"Error al actualizar la personalizaci\xf3n en el carrito.","fetchError":"Error al obtener art\xedculos del carrito:","updateError":"Error al actualizar el carrito:"},"checkout":{"title":"Pagar","fullName":"Nombre completo","streetAddress":"Direcci\xf3n","city":"Ciudad","state":"Estado","zipCode":"C\xf3digo postal","zipCodeError":"El c\xf3digo postal debe tener 5 d\xedgitos","cardNumber":"N\xfamero de tarjeta","cardNumberError":"El n\xfamero de tarjeta debe tener 16 d\xedgitos","expiryDate":"Fecha de expiraci\xf3n (MM/AA)","expiryDateError":"La fecha de expiraci\xf3n debe tener formato MM/AA","cvv":"CVV","cvvError":"El CVV debe tener 3 d\xedgitos","delivery":"Piso y sala de entrega","placeOrder":"Realizar pedido","backToCart":"← Volver al carrito","inventoryError":"No hay suficientes art\xedculos en el inventario de la cafeter\xeda para completar el pedido. Por favor, reduce la cantidad.","genericError":"Ocurri\xf3 un error. Int\xe9ntalo de nuevo.","unexpectedResponse":"Respuesta inesperada"},"tracking":{"title":"Seguimiento de Pedido","backToMenu":"Volver al Men\xfa","orderItems":"Art\xedculos del Pedido","loadingItems":"Cargando art\xedculos del pedido...","qty":"Cant:","totalLabel":"Total (incluye impuestos y promociones)","loading":"Cargando...","statusTitle":"Estado Actual","statusUpdate":"Estado del pedido actualizado: {{status}}","statusError":"Error al actualizar el estado del pedido","loadError":"Error al cargar los art\xedculos del pedido"}}');t.Ay.use(s.A).use(o.r9).init({resources:{en:{translation:n},es:{translation:i}},fallbackLng:"en",interpolation:{escapeValue:!1},returnNull:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"]}})},1398:(e,a,r)=>{Promise.resolve().then(r.bind(r,8325))},6677:()=>{},8325:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var t=r(5155),o=r(2115),s=r(3464);r(6677),r(388);var n=r(1218);let i=()=>{let[e,a]=(0,o.useState)([]),[r,i]=(0,o.useState)(""),[l,d]=(0,o.useState)([]),[c,u]=(0,o.useState)(!1),m=async e=>{if(""===e.trim())return void d([]);u(!0);try{let a=await s.A.post("http://localhost:8080/allmenusearch",{name:e},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});d(a.data)}catch(e){console.error("Error fetching search results:",e)}finally{u(!1)}},p={breakfast:"/breakfast.svg",lunch:"/lunch.svg",dinner:"/dinner.svg",drink:"/drinks.svg",dessert:"/dessert.svg"};(0,o.useEffect)(()=>{console.log("Updated menuItems:",e)},[e]),(0,o.useEffect)(()=>{console.log("Updated menuItems:",e)},[e]);let g=async()=>{console.log("Fetching menu data...");try{let e=await fetch("http://localhost:8080/restaurantmenuread",{method:"GET",credentials:"include"}),r=await e.json();console.log("Fetched menu items:",r),a(r)}catch(e){console.error("Error fetching menu data:",e)}};(0,o.useEffect)(()=>{g()},[]);let h=a=>{let r=e.filter(e=>e.category===a);return console.log("Items for category ".concat(a,":"),r),r},{t:f,i18n:y}=(0,n.Bd)();y.isInitialized||y.changeLanguage("en"),(0,o.useEffect)(()=>{let e=setTimeout(()=>{m(r)},500);return()=>clearTimeout(e)},[r]);let C=async e=>{try{await s.A.post("http://localhost:8080/cartadd",{id:e.id,source:e.source,name:e.name,price:e.price,quantity:1},{headers:{"Content-Type":"application/json"},withCredentials:!0})}catch(e){console.error("Error adding to cart.",e)}alert("Added one "+e.name+" to cart.")},v=async e=>{try{await s.A.post("http://localhost:8080/cartdelete",{id:e.id,source:e.source},{headers:{"Content-Type":"application/json"},withCredentials:!0})}catch(e){console.error("Error removing from cart.",e)}alert("All "+e.name+" items removed from cart.")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{children:(0,t.jsxs)("div",{className:"navbar-container",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("a",{href:"/dashboard",children:(0,t.jsx)("h1",{children:"Cafe CSUF"})})}),(0,t.jsx)("nav",{className:"nav-menu",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"/customer-orders",title:"History",children:[(0,t.jsx)("img",{src:"/history.svg",className:"icon",alt:"History"}),(0,t.jsx)("span",{className:"nav-text",children:f("restaurantMenu.history")})]})}),(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"/loyalty",title:"Loyalty Points",children:[(0,t.jsx)("img",{src:"/loyalty.svg",className:"icon",alt:"Loyalty Points"}),(0,t.jsx)("span",{className:"nav-text",children:f("restaurantMenu.loyalty")})]})})]})}),(0,t.jsxs)("div",{className:"search-container",children:[(0,t.jsx)("input",{type:"search",placeholder:f("restaurantMenu.searchPlaceholder"),value:r,onChange:e=>{i(e.target.value)}}),(0,t.jsx)("button",{className:"search-button",children:(0,t.jsx)("img",{src:"/search.svg",className:"icon",alt:"Search"})}),r&&(0,t.jsx)("ul",{className:"search-results",children:c?(0,t.jsx)("li",{className:"search-item",children:f("restaurantMenu.loading")}):l.length>0?l.map((e,a)=>(0,t.jsx)("li",{className:"search-item",children:(0,t.jsx)("a",{href:"/".concat(e.source,"menu"),className:"full-link",children:e.name})},a)):(0,t.jsx)("li",{className:"search-item",children:f("restaurantMenu.noResults")})})]}),(0,t.jsx)("nav",{className:"nav-menu",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"/cart",title:"Cart",children:[(0,t.jsx)("img",{src:"/cart.svg",className:"icon",alt:"Cart"}),(0,t.jsx)("span",{className:"nav-text",children:f("restaurantMenu.cart")})]})}),(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"/user",title:"Account",children:[(0,t.jsx)("img",{src:"/account.svg",className:"icon",alt:"Account"}),(0,t.jsx)("span",{className:"nav-text",children:f("restaurantMenu.account")})]})})]})}),(0,t.jsxs)("button",{className:"hamburger-menu","aria-label":"Toggle menu",children:[(0,t.jsx)("span",{className:"bar"}),(0,t.jsx)("span",{className:"bar"}),(0,t.jsx)("span",{className:"bar"})]})]})}),(0,t.jsx)("main",{children:(0,t.jsxs)("section",{className:"products",children:[(0,t.jsx)("h3",{children:f("restaurantMenu.title")}),["breakfast","lunch","dinner","dessert","drink"].map(e=>(0,t.jsxs)("div",{className:"products-container",children:[(0,t.jsx)("img",{src:p[e],alt:"".concat(e," icon"),className:"category-icon"}),(0,t.jsx)("div",{className:"placeholder-products",children:h(e).map(e=>(console.log("Rendering item:",e),(0,t.jsxs)("div",{className:"product",children:[(0,t.jsxs)("div",{className:"product-info",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"product-image"}),(0,t.jsx)("h4",{children:e.name}),(0,t.jsxs)("p",{children:["$",e.price]}),(0,t.jsx)("p",{children:e.restaurant})]}),(0,t.jsxs)("div",{className:"product-buttons",children:[(0,t.jsx)("button",{className:"add-to-bag",onClick:()=>C(e),children:f("restaurantMenu.add")}),(0,t.jsx)("button",{className:"remove-from-bag",onClick:()=>v(e),children:f("restaurantMenu.remove")})]})]},e.id)))})]},e))]})}),(0,t.jsx)("footer",{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[44,464,916,441,684,358],()=>a(1398)),_N_E=e.O()}]);