(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5309:(e,s,t)=>{Promise.resolve().then(t.bind(t,9690))},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},9690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(5155),r=t(2115),l=t(5695),n=t(6874),o=t.n(n),i=t(3464);function u(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)({email:"",password:""}),[n,u]=(0,r.useState)(""),c=async e=>{t({...s,[e.target.name]:e.target.value})},d=async t=>{t.preventDefault();try{let t=await i.A.post("http://localhost:8080/login",{username:s.email,password:s.password});201===t.status?(alert("Login successful!"),e.push("/dashboard")):202===t.status?(alert("Login successful!"),e.push("/cafeteria")):203===t.status?(alert("Login successful!"),e.push("/delivery")):204===t.status?(alert("Login successful!"),e.push("/admin")):(400===t.status||401===t.status)&&u("Invalid login credentials")}catch(e){if(console.error("Error during login:",e),i.A.isAxiosError(e)){var a,r,l;u("Invalid Credentials. Status: ".concat(null===(a=e.response)||void 0===a?void 0:a.status,", Message: ").concat((null===(l=e.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)||e.message))}else u("Something went wrong. Please try again.")}};return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-md w-96",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-4",children:"Login"}),n&&(0,a.jsx)("p",{className:"text-red-500 text-center",children:n}),(0,a.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:c,className:"border p-2 w-full rounded-md",required:!0}),(0,a.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:c,className:"border p-2 w-full rounded-md",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 w-full rounded-md",children:"Login"})]}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)(o(),{href:"/forgot-password",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",children:"Forgot Password?"})}),(0,a.jsx)("p",{className:"mt-2",children:"Don't have an account?"}),(0,a.jsx)(o(),{href:"/signup",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",children:"Sign Up"})}),(0,a.jsx)("button",{onClick:()=>e.push("/"),className:"mt-4 text-gray-600 hover:text-gray-800",children:"← Back to Home"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,874,441,684,358],()=>s(5309)),_N_E=e.O()}]);