(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5309:(e,s,t)=>{Promise.resolve().then(t.bind(t,9690))},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},9690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),r=t(2115),l=t(5695),n=t(6874),o=t.n(n),i=t(3464),u=t(1218);function c(){let{t:e,i18n:s}=(0,u.Bd)(),t=(0,l.useRouter)(),[n,c]=(0,r.useState)({email:"",password:""}),[d,m]=(0,r.useState)(""),p=async e=>{c({...n,[e.target.name]:e.target.value})},h=async s=>{s.preventDefault();try{let s=await i.A.post("http://localhost:8080/login",{username:n.email,password:n.password},{withCredentials:!0});201===s.status?(alert(e("login.success")),t.push("/dashboard")):202===s.status?(alert(e("login.success")),t.push("/cafeteria")):203===s.status?(alert(e("login.success")),t.push("/delivery")):204===s.status?(alert(e("login.success")),t.push("/admin")):(400===s.status||401===s.status)&&m(e("login.invalid"))}catch(e){if(console.error("Error during login:",e),i.A.isAxiosError(e)){var a,r,l;m("Invalid Credentials. Status: ".concat(null==(a=e.response)?void 0:a.status,", Message: ").concat((null==(l=e.response)||null==(r=l.data)?void 0:r.message)||e.message))}else m("Something went wrong. Please try again.")}};return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-md w-96",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-4",children:e("login.title")}),d&&(0,a.jsx)("p",{className:"text-red-500 text-center",children:d}),(0,a.jsxs)("form",{onSubmit:h,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"email",name:"email",placeholder:e("login.email"),value:n.email,onChange:p,className:"border p-2 w-full rounded-md",required:!0}),(0,a.jsx)("input",{type:"password",name:"password",placeholder:e("login.password"),value:n.password,onChange:p,className:"border p-2 w-full rounded-md",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 w-full rounded-md",children:"Login"})]}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)(o(),{href:"/forgot-password",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",children:e("login.forgotPassword")})}),(0,a.jsx)("p",{className:"mt-2",children:e("login.noAccount")}),(0,a.jsx)(o(),{href:"/signup",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",children:e("login.signup")})}),(0,a.jsx)("button",{onClick:()=>t.push("/"),className:"mt-4 text-gray-600 hover:text-gray-800",children:e("login.backHome")})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,874,218,441,684,358],()=>s(5309)),_N_E=e.O()}]);