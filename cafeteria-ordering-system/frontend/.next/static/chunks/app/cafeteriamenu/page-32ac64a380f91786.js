(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{1173:(e,a,s)=>{Promise.resolve().then(s.bind(s,3930))},3930:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var c=s(5155),r=s(2115),t=s(3464);s(6677);let l=()=>{let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)([]),[i,d]=(0,r.useState)(!1),h=async e=>{if(""===e.trim()){o([]);return}d(!0);try{let a=await t.A.post("http://localhost:8080/allmenusearch",{name:e},{headers:{"Content-Type":"application/json",Accept:"application/json"}});o(a.data)}catch(e){console.error("Error fetching search results:",e)}finally{d(!1)}};(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:8080/cafmenuread"),s=await e.json();a(s)}catch(e){console.error("Error fetching menu data:",e)}})()},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{h(s)},500);return()=>clearTimeout(e)},[s]);let m=async e=>{console.log("Item to be added:",e);try{await t.A.post("http://localhost:8080/cartadd",{id:e.id,source:e.source,name:e.name,price:e.price,quantity:1},{headers:{"Content-Type":"application/json"}})}catch(e){console.error("Error adding to cart.",e)}alert("Added one "+e.name+" to cart.")},u=async e=>{try{await t.A.post("http://localhost:8080/cartdelete",{id:e.id,source:e.source},{headers:{"Content-Type":"application/json"}})}catch(e){console.error("Error removing from cart.",e)}alert("All "+e.name+" items removed from cart.")};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("header",{children:(0,c.jsxs)("div",{className:"navbar-container",children:[(0,c.jsx)("div",{className:"logo",children:(0,c.jsx)("a",{href:"/dashboard",children:(0,c.jsx)("h1",{children:"Cafe CSUF"})})}),(0,c.jsxs)("div",{className:"search-container",children:[(0,c.jsx)("input",{type:"search",placeholder:"Search for something...",value:s,onChange:e=>{l(e.target.value)}}),(0,c.jsx)("button",{className:"search-button",children:(0,c.jsx)("img",{src:"/search.svg",className:"icon",alt:"Search"})}),s&&(0,c.jsx)("ul",{className:"search-results",children:i?(0,c.jsx)("li",{className:"search-item",children:"Loading..."}):n.length>0?n.map((e,a)=>(0,c.jsx)("li",{className:"search-item",children:(0,c.jsx)("a",{href:"/".concat(e.source,"menu"),className:"full-link",children:e.name})},a)):(0,c.jsx)("li",{className:"search-item",children:"No results found"})})]}),(0,c.jsx)("nav",{className:"nav-menu",children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsxs)("a",{href:"/cart",title:"Cart",children:[(0,c.jsx)("img",{src:"/cart.svg",className:"icon",alt:"Cart"}),(0,c.jsx)("span",{className:"nav-text",children:"Cart"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("a",{href:"/user",title:"Account",children:[(0,c.jsx)("img",{src:"/account.svg",className:"icon",alt:"Account"}),(0,c.jsx)("span",{className:"nav-text",children:"Account"})]})})]})}),(0,c.jsxs)("button",{className:"hamburger-menu","aria-label":"Toggle menu",children:[(0,c.jsx)("span",{className:"bar"}),(0,c.jsx)("span",{className:"bar"}),(0,c.jsx)("span",{className:"bar"})]})]})}),(0,c.jsx)("main",{children:(0,c.jsxs)("section",{className:"products",children:[(0,c.jsx)("h3",{children:"Cafe CSUF Menu"}),(0,c.jsxs)("div",{className:"products-container",children:[(0,c.jsx)("img",{src:"/breakfast.svg",className:"categories-food",alt:"Breakfast"}),(0,c.jsx)("div",{className:"placeholder-products",children:e.map(e=>(0,c.jsx)("div",{className:"placeholder-product",children:(0,c.jsxs)("div",{className:"product-buttons",children:[(0,c.jsx)("h4",{children:e.name}),(0,c.jsxs)("p",{children:["$",e.price]}),(0,c.jsx)("button",{className:"add-to-bag",onClick:()=>m(e),children:"Add"}),(0,c.jsx)("button",{className:"remove-from-bag",onClick:()=>u(e),children:"Remove"})]})},e.id))})]})]})}),(0,c.jsx)("footer",{})]})}},6677:()=>{}},e=>{var a=a=>e(e.s=a);e.O(0,[44,464,441,684,358],()=>a(1173)),_N_E=e.O()}]);