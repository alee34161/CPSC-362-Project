(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{1173:(e,s,a)=>{Promise.resolve().then(a.bind(a,3930))},3930:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(5155),c=a(2115),t=a(3464);a(6677);let n=()=>{let[e,s]=(0,c.useState)([]),[a,n]=(0,c.useState)(""),[l,i]=(0,c.useState)([]),[o,d]=(0,c.useState)(!1),h=async e=>{if(""===e.trim())return void i([]);d(!0);try{let s=await t.A.post("http://localhost:8080/allmenusearch",{name:e},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});i(s.data)}catch(e){console.error("Error fetching search results:",e)}finally{d(!1)}},m={breakfast:"/breakfast.svg",lunch:"/lunch.svg",dinner:"/dinner.svg",drink:"/drinks.svg",dessert:"/dessert.svg"},u=async()=>{console.log("Fetching menu data...");try{let e=await fetch("http://localhost:8080/cafmenuread",{method:"GET",credentials:"include"}),a=await e.json();console.log("Fetched menu items:",a),s(a)}catch(e){console.error("Error fetching menu data:",e)}},j=s=>{let a=e.filter(e=>e.category===s);return console.log("Items for category ".concat(s,":"),a),a};(0,c.useEffect)(()=>{u()},[]),(0,c.useEffect)(()=>{let e=setTimeout(()=>{h(a)},500);return()=>clearTimeout(e)},[a]);let x=async e=>{try{await t.A.post("http://localhost:8080/cartadd",{id:e.id,source:e.source,name:e.name,price:e.price,quantity:1},{headers:{"Content-Type":"application/json"},withCredentials:!0})}catch(e){console.error("Error adding to cart.",e)}alert("Added one "+e.name+" to cart.")},p=async e=>{try{await t.A.post("http://localhost:8080/cartdelete",{id:e.id,source:e.source},{headers:{"Content-Type":"application/json"},withCredentials:!0})}catch(e){console.error("Error removing from cart.",e)}alert("All "+e.name+" items removed from cart.")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{children:(0,r.jsxs)("div",{className:"navbar-container",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("a",{href:"/dashboard",children:(0,r.jsx)("h1",{children:"Cafe CSUF"})})}),(0,r.jsx)("nav",{className:"nav-menu",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/customer-orders",title:"History",children:[(0,r.jsx)("img",{src:"/history.svg",className:"icon",alt:"History"}),(0,r.jsx)("span",{className:"nav-text",children:"History"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/loyalty",title:"Loyalty Points",children:[(0,r.jsx)("img",{src:"/loyalty.svg",className:"icon",alt:"Loyalty Points"}),(0,r.jsx)("span",{className:"nav-text",children:"Loyalty Points"})]})})]})}),(0,r.jsxs)("div",{className:"search-container",children:[(0,r.jsx)("input",{type:"search",placeholder:"Search for something...",value:a,onChange:e=>{n(e.target.value)}}),(0,r.jsx)("button",{className:"search-button",children:(0,r.jsx)("img",{src:"/search.svg",className:"icon",alt:"Search"})}),a&&(0,r.jsx)("ul",{className:"search-results",children:o?(0,r.jsx)("li",{className:"search-item",children:"Loading..."}):l.length>0?l.map((e,s)=>(0,r.jsx)("li",{className:"search-item",children:(0,r.jsx)("a",{href:"/".concat(e.source,"menu"),className:"full-link",children:e.name})},s)):(0,r.jsx)("li",{className:"search-item",children:"No results found"})})]}),(0,r.jsx)("nav",{className:"nav-menu",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/cart",title:"Cart",children:[(0,r.jsx)("img",{src:"/cart.svg",className:"icon",alt:"Cart"}),(0,r.jsx)("span",{className:"nav-text",children:"Cart"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/user",title:"Account",children:[(0,r.jsx)("img",{src:"/account.svg",className:"icon",alt:"Account"}),(0,r.jsx)("span",{className:"nav-text",children:"Account"})]})})]})}),(0,r.jsxs)("button",{className:"hamburger-menu","aria-label":"Toggle menu",children:[(0,r.jsx)("span",{className:"bar"}),(0,r.jsx)("span",{className:"bar"}),(0,r.jsx)("span",{className:"bar"})]})]})}),(0,r.jsx)("main",{children:(0,r.jsxs)("section",{className:"products",children:[(0,r.jsx)("h3",{children:"Cafeteria Menu"}),["breakfast","lunch","dinner","dessert","drink"].map(e=>(0,r.jsxs)("div",{className:"products-container",children:[(0,r.jsx)("img",{src:m[e],alt:"".concat(e," icon"),className:"category-icon"}),(0,r.jsx)("div",{className:"placeholder-products",children:j(e).map(e=>(console.log("Rendering item:",e),(0,r.jsxs)("div",{className:"product",children:[(0,r.jsxs)("div",{className:"product-info",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"product-image"}),(0,r.jsx)("h4",{children:e.name}),(0,r.jsxs)("p",{children:["$",e.price]})]}),(0,r.jsxs)("div",{className:"product-buttons",children:[(0,r.jsx)("button",{className:"add-to-bag",onClick:()=>x(e),children:"Add"}),(0,r.jsx)("button",{className:"remove-from-bag",onClick:()=>p(e),children:"Remove"})]})]},e.id)))})]},e))]})}),(0,r.jsx)("footer",{})]})}},6677:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[44,464,441,684,358],()=>s(1173)),_N_E=e.O()}]);